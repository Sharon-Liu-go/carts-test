<container class="container-fluid" style="font-size:1.2em">

  <div class="accordion-item mt-5 bg-light">
    <div class="accordion-header" id="headingTwo">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo"
        aria-expanded="true" aria-controls="collapseTwo">
        <div class="px-4">
          <h3>Total：NT$ {{order.dataValues.amount}}</h3>
          <strong>[ {{order.items.length}} item(s) ]</strong>
        </div>
    </div>
    </button>
  </div>
  <div id="collapseTwo" class="accordion-collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
    <div class="accordion-body mx-auto p-5">
      <table class="table">
        <thead class="text-center">
          <tr>
            <th scope="col" class="text-start">Product description</th>
            <th scope="col">Unit Price</th>
            <th scope="col">Quantity</th>
            <th scope="col" class="text-end">Subtotal</th>
          </tr>
        </thead>
        <tbody class=" text-center">
          {{#each orderItems}}
          <tr>
            <td class="text-start">
              <div style="display: flow-root;">
                <img src="{{this.image}}" class="card-img" alt="..." style="height: 100px;width: auto;">
                <span>{{this.name}}</span>
              </div>
            </td>
            <td>
              NT$ {{this.price}}
            </td>
            <td>
              {{this.quantity}}
            </td>
            <td class="text-end">NT$ {{this.subtotal}}</td>
          </tr>
          {{/each}}
        </tbody>
      </table>
      <div class="d-flex justify-content-end">
        <div style="width: 30em;">
          <div class="d-flex justify-content-between mb-3 pe-2">
            <div class="">Subtotal：</div>
            <div class="">NT$ {{order.dataValues.amount}}</div>
          </div>
          <div class="d-flex justify-content-between mb-3 pe-2">
            <div class="">Freight：</div>
            <div class="">NT$ 0</div>
          </div>
          <div>
            <hr style="height:1px">
          </div>
          <div class="d-flex justify-content-between pe-2">
            <div class="">Total：</div>
            <div class="">
              <h2>NT$ {{order.dataValues.amount}}</h2>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="m-4 mx-auto p-5 bg-light ">
    <div class="mb-3 row">
      <div class="col-12">
        <div class="row">
          <label for="staticPhone" class="col-sm-2 col-form-label">
            <h3>Order No. :</h3>
          </label>
          <div class="col-sm-10">
            <input type="text" readonly class="form-control-plaintext fs-3 text" id="staticPhone"
              value="{{order.dataValues.sn}}">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticName" class="col-sm-2 col-form-label">Order date :</label>
          <div class="col-sm-10">
            <input type="text" readonly class="form-control-plaintext" id="staticName"
              value="{{date order.dataValues.createdAt}}">
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-4 p-3">
        <div class="border-bottom border-success border-3 mb-3">
          <h3>Customer information</h3>
        </div>
        <div class="mb-3 row">
          <label for="staticName" class="col-sm-4 col-form-label">Name :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticName"
              value="{{order.dataValues.sender}}">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticEmail" class="col-sm-4 col-form-label">Email :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="{{user.email}}">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticPhone" class="col-sm-4 col-form-label">Phone :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticPhone" value="{{user.phone}}">
          </div>
        </div>
      </div>
      <div class="col-sm-12 col-md-4 bg-light  p-3">
        <div class="border-bottom border-success border-3 mb-3">
          <h3>Consignee information</h3>
        </div>
        <div class="mb-3 row">
          <label for="staticConsignee" class="col-sm-4 col-form-label">Name :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticConsignee"
              value="{{order.dataValues.name}}">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticConsignee" class="col-sm-4 col-form-label">Address :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticConsignee"
              value="{{order.dataValues.address}}">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticConsignee" class="col-sm-4 col-form-label">Phone :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticConsignee"
              value="{{order.dataValues.phone}}">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticConsignee" class="col-sm-4 col-form-label">Shipping method :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticConsignee" value="Home delivery">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticConsignee" class="col-sm-4 col-form-label">Shipping status :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticConsignee"
              value="{{getShippingStatus order.dataValues.shipping_status}}">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticConsignee" class="col-sm-4 col-form-label">Tracking No. :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticConsignee" value="906560144700">
            <a class="btn btn-success bg-gradient" style="display: inline;"
              href="https://www.t-cat.com.tw/Inquire/TraceDetail.aspx?BillID=906560144700" role="button">Track</a>
          </div>
        </div>
      </div>

      <div class="col-sm-12 col-md-4  bg-light  p-3">
        <div class="border-bottom border-success border-3 mb-3">
          <h3>Payment information</h3>
        </div>
        <div class="mb-3 row">
          <label for="staticConsignee" class="col-sm-4 col-form-label">Payment method :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticConsignee" value="Credit card">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="staticConsignee" class="col-sm-4 col-form-label">Payment status :</label>
          <div class="col-sm-6">
            <input type="text" readonly class="form-control-plaintext" id="staticConsignee" value={{getPayStatus
              order.dataValues.payment_status}}>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="mx-auto px-5 ">
    <div class="row">
      <div class="col-sm-12 col-md-4 p-3">
        <div class="">
          {{#ifCond order.dataValues.shipping_status '===' "0" }}
          <form action='/order/{{order.dataValues.id}}/cancel' method="POST">
            <button class="btn btn-warning align-middle" type="submit"
              style="height: 3em; font-size:1.2em; width:100%">Cancel
              Order</button>
          </form>
          {{/ifCond}}
        </div>
      </div>
      <div class="col-sm-12 col-md-4 p-3"> </div>
      <div class="col-sm-12 col-md-4 p-3">
        <div class="">
          {{#ifCond order.dataValues.payment_status '===' "0" }}
          <form name='newebpay' action='{{tradeInfo.PayGateWay}}' method="POST">
            <input type="hidden" name="MerchantID" value="{{tradeInfo.MerchantID}}">
            <input type="hidden" name="TradeInfo" value="{{tradeInfo.TradeInfo}}">
            <input type="hidden" name="TradeSha" value="{{tradeInfo.TradeSha}}">
            <input type="hidden" name="Version" value="{{tradeInfo.Version}}">
            <button class="btn btn-success align-middle" type="submit"
              style="height: 3em; font-size:1.2em; width:100%">Pay Now</button>
          </form>
          {{/ifCond}}
        </div>
      </div>
    </div>
  </div>

</container>